<ng-template [ngIf]=isVisible>
    <h1 mat-dialog-title>Register</h1>
    <form [formGroup]="registerForm">
        <mat-form-field class="full-width">
            <input matInput placeholder="e-mail" formControlName="email" >
            <mat-error *ngIf="registerForm.get('email').invalid && (registerForm.get('email').dirty || registerForm.get('email').touched)">
                <span *ngIf="registerForm.get('email').hasError('email') && !registerForm.get('email').hasError('required')">Please enter a valid email address</span>
                <span *ngIf="registerForm.get('email').hasError('required')">email is required</span>
            </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
            <input matInput placeholder="username" formControlName="username">
            <mat-error
                *ngIf="registerForm.get('username').invalid && (registerForm.get('username').dirty || registerForm.get('username').touched)">
                <span>username is required</span>
            </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
            <input type="password" matInput placeholder="password" formControlName="password">
            <mat-error *ngIf="registerForm.get('password').invalid && (registerForm.get('password').dirty || registerForm.get('password').touched)">
                <span
                    *ngIf="!registerForm.get('password').hasError('minLength') && !this.registerForm.get('password').hasError('required')">min.
                    length is 6</span>
                <span
                    *ngIf="this.registerForm.get('password').hasError('required') && !registerForm.get('password').hasError('minLength')">password
                    is required</span>
            </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
            <input type="password" matInput placeholder="confirm password" formControlName="confirm_password" [errorStateMatcher]="matcher" >
            <mat-error *ngIf="registerForm.get('confirm_password').hasError('notSame')">
                <span>confirm_password is required</span>
            </mat-error>
        </mat-form-field>
        <button class="full-width"
                [disabled]="isDisabled()"
                mat-raised-button 
                (click)="register()"
                color="primary">
            Register
        </button>
    </form>
</ng-template>